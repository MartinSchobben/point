<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="point">
<title>IC-read • point</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="IC-read">
<meta property="og:description" content="point">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">point</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9003</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/IC-diagnostics.html">IC-diagnostics</a>
    <a class="dropdown-item" href="../articles/IC-introduction.html">IC-introduction</a>
    <a class="dropdown-item" href="../articles/IC-precision.html">IC-precision</a>
    <a class="dropdown-item" href="../articles/IC-process.html">IC-process</a>
    <a class="dropdown-item" href="../articles/IC-read.html">IC-read</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">


<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>IC-read</h1>
                        <h4 data-toc-skip class="author">Martin Schobben</h4>
            
      
      
      <div class="d-none name"><code>IC-read.Rmd</code></div>
    </div>

    
    
<div class="section level2" number="1">
<h2 id="reading-raw-ion-count-data">
<span class="header-section-number">1</span> Reading Raw Ion Count Data<a class="anchor" aria-label="anchor" href="#reading-raw-ion-count-data"></a>
</h2>
<p>The read functions are currently only supported for data generated by a <em>Cameca NanoSIMS 50L</em>. Raw ion count data and accompanying metadata is extracted and collated into a single <a href="https://cran.r-project.org/web/packages/tibble/vignettes/tibble.html" class="external-link">tibble</a> from text files with the extensions <em>.is_txt</em>, <em>.chk_is</em> and <em>.stat</em>, respectively. These files can usually be found in a single directory, which often constitute the analysis on a series of spots.</p>
</div>
<div class="section level2" number="2">
<h2 id="nomenclature">
<span class="header-section-number">2</span> Nomenclature<a class="anchor" aria-label="anchor" href="#nomenclature"></a>
</h2>
<ul>
<li>Sample: sample of the true population</li>
<li>Analytical substrate: physical sample measured during SIMS analysis</li>
<li>Event: single event of an ion hitting the detector</li>
<li>Measurement: single count cycle <span class="math inline">\(N_i\)</span>
</li>
<li>Analysis: <span class="math inline">\(n\)</span>-series of measurements <span class="math inline">\(N_{(i)} = M_j\)</span>
</li>
<li>Study: <span class="math inline">\(m\)</span>-series of analyses <span class="math inline">\(M_{(j)}\)</span>, constituting the different spots on the analytical substrate</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://martinschobben.github.io/point/">point</a></span><span class="op">)</span> <span class="co"># load package</span></code></pre></div>
<p>The following packages are used in the examples that follow.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span> <span class="co"># manipulating data</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span> <span class="co"># plot</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">polyaAeppli</span><span class="op">)</span> <span class="co"># Polya-Aeppli distribution</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://purrr.tidyverse.org" class="external-link">purrr</a></span><span class="op">)</span> <span class="co"># functional programming</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span> <span class="co"># tidyr data</span></code></pre></div>
</div>
<div class="section level2" number="3">
<h2 id="example-dataset">
<span class="header-section-number">3</span> Example dataset<a class="anchor" aria-label="anchor" href="#example-dataset"></a>
</h2>
<p>One example dataset is bundled with this package: <em>2018-01-19-GLENDON</em>.</p>
<p>The dataset is generated with the <em>Cameca NanoSIMS 50L</em> at the Department of Earth Sciences at Utrecht University. The suffix <em>GLENDON</em> stands for glendonite an authigenic calcium carbonate seafloor precipitate. The excerpt included here contains an in-house reference (a belemnite rostra) which was used to check repeatability/external reproducibility. Ion detection for 7 individual species was performed solely with electron multipliers (EM) with the main purpose of producing stable carbon isotope ratios (<sup>13</sup>C/<sup>12</sup>C).</p>
<p>The example directories can be accessed with the function <code><a href="../reference/point_example.html">point_example()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Use point_example() to access the examples bundled with this package </span>
<span class="co"># If path is 'NULL', the example directories will be listed</span>
<span class="fu"><a href="../reference/point_example.html">point_example</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "2018-01-19-GLENDON"</span>
<span class="co"># Accessing the example directory 2018-01-19-GLENDON</span>
<span class="fu"><a href="../reference/point_example.html">point_example</a></span><span class="op">(</span><span class="st">"2018-01-19-GLENDON"</span><span class="op">)</span>
<span class="co">#&gt; [1] "/tmp/RtmpierncQ/temp_libpath63f14b3a89b0/point/extdata/2018-01-19-GLENDON"</span></code></pre></div>
</div>
<div class="section level2" number="4">
<h2 id="extracting-raw-ion-count-data-and-associated-metadata">
<span class="header-section-number">4</span> Extracting raw ion count data and associated metadata<a class="anchor" aria-label="anchor" href="#extracting-raw-ion-count-data-and-associated-metadata"></a>
</h2>
<p>The function <code><a href="../reference/read_IC.html">read_IC()</a></code> takes a character string indicating the directory file name. It further enables selecting the extraction of associated metadata by setting the argument <code>meta = TRUE</code> (default), and this metadata can be include as an attribute with argument <code>hide = TRUE</code> (default) or as additional columns <code>hide = FALSE</code>. This has the added bonus that it provides consistency checks between metadata that generate easily interpretable warnings.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">tb_rw</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_IC.html">read_IC</a></span><span class="op">(</span><span class="fu"><a href="../reference/point_example.html">point_example</a></span><span class="op">(</span><span class="st">"2018-01-19-GLENDON"</span><span class="op">)</span>, meta <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Registered S3 methods overwritten by 'readr':</span>
<span class="co">#&gt;   method                    from </span>
<span class="co">#&gt;   as.data.frame.spec_tbl_df vroom</span>
<span class="co">#&gt;   as_tibble.spec_tbl_df     vroom</span>
<span class="co">#&gt;   format.col_spec           vroom</span>
<span class="co">#&gt;   print.col_spec            vroom</span>
<span class="co">#&gt;   print.collector           vroom</span>
<span class="co">#&gt;   print.date_names          vroom</span>
<span class="co">#&gt;   print.locale              vroom</span>
<span class="co">#&gt;   str.col_spec              vroom</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 81,900 × 7</span></span>
<span class="co">#&gt;    file.nm                 t.nm  N.rw species.nm sample.nm         n.rw bl.nm</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2018-01-19-GLENDON_1_1  0.54 <span style="text-decoration: underline;">12</span>040 12C        Belemnite,Indium  <span style="text-decoration: underline;">3</span>900     1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2018-01-19-GLENDON_1_1  1.08 <span style="text-decoration: underline;">11</span>950 12C        Belemnite,Indium  <span style="text-decoration: underline;">3</span>900     1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2018-01-19-GLENDON_1_1  1.62 <span style="text-decoration: underline;">12</span>100 12C        Belemnite,Indium  <span style="text-decoration: underline;">3</span>900     1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2018-01-19-GLENDON_1_1  2.16 <span style="text-decoration: underline;">11</span>946 12C        Belemnite,Indium  <span style="text-decoration: underline;">3</span>900     1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2018-01-19-GLENDON_1_1  2.7  <span style="text-decoration: underline;">12</span>178 12C        Belemnite,Indium  <span style="text-decoration: underline;">3</span>900     1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2018-01-19-GLENDON_1_1  3.24 <span style="text-decoration: underline;">12</span>114 12C        Belemnite,Indium  <span style="text-decoration: underline;">3</span>900     1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2018-01-19-GLENDON_1_1  3.78 <span style="text-decoration: underline;">12</span>147 12C        Belemnite,Indium  <span style="text-decoration: underline;">3</span>900     1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2018-01-19-GLENDON_1_1  4.32 <span style="text-decoration: underline;">12</span>092 12C        Belemnite,Indium  <span style="text-decoration: underline;">3</span>900     1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2018-01-19-GLENDON_1_1  4.86 <span style="text-decoration: underline;">12</span>024 12C        Belemnite,Indium  <span style="text-decoration: underline;">3</span>900     1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2018-01-19-GLENDON_1_1  5.4  <span style="text-decoration: underline;">12</span>045 12C        Belemnite,Indium  <span style="text-decoration: underline;">3</span>900     1</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 81,890 more rows</span></span></code></pre></div>
<p>This generates a tibble which includes;</p>
<ul>
<li>
<code>file.nm</code>: file name</li>
<li>
<code>t.nm</code>: time increments of the measurements <span class="math inline">\(t_i\)</span>
</li>
<li>
<code>N.rw</code>: the individual measurement counts <span class="math inline">\(N_i\)</span>
</li>
<li>
<code>species.nm</code>: chemical species name</li>
<li>
<code>sample.nm</code>: physical sample name</li>
<li>
<code>n.rw</code>: the total number of measurements <span class="math inline">\(n\)</span>
</li>
<li>
<code>bl.nm</code>: count block identifier</li>
</ul>
<p>Warnings signals are used to inform to inform that e.g. some metadata files have no associated data files with ion counts. These files are omitted with this argument combination call to <code><a href="../reference/read_IC.html">read_IC()</a></code>.</p>
<!-- The second warning indicates that there are inconsistencies in the length $n$ of the analyses when comparing raw data and the actual rows of count data. This can indicates that an analysis was aborted leaving an incomplete ion count sequences. To figure out which file this is use the function compare_length(), which uses the `waldo` package to compare objects. -->
<p>The data is complemented with metadata of the associated analysis.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">tb_rw</span>, <span class="st">"metadata"</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 81,900 × 38</span></span>
<span class="co">#&gt;    file.nm       t.nm species.nm sample.nm bl.nm num.mt bfield.mt rad.mt mass.mt</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2018-01-19-…  0.54 12C        Belemnit…     1      1 1435.746  310.6… 12.000…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2018-01-19-…  1.08 12C        Belemnit…     1      1 1435.746  310.6… 12.000…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2018-01-19-…  1.62 12C        Belemnit…     1      1 1435.746  310.6… 12.000…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2018-01-19-…  2.16 12C        Belemnit…     1      1 1435.746  310.6… 12.000…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2018-01-19-…  2.7  12C        Belemnit…     1      1 1435.746  310.6… 12.000…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2018-01-19-…  3.24 12C        Belemnit…     1      1 1435.746  310.6… 12.000…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2018-01-19-…  3.78 12C        Belemnit…     1      1 1435.746  310.6… 12.000…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2018-01-19-…  4.32 12C        Belemnit…     1      1 1435.746  310.6… 12.000…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2018-01-19-…  4.86 12C        Belemnit…     1      1 1435.746  310.6… 12.000…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2018-01-19-…  5.4  12C        Belemnit…     1      1 1435.746  310.6… 12.000…</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 81,890 more rows, and 29 more variables: tc.mt &lt;dbl&gt;, coord.mt &lt;chr&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   file_raw.mt &lt;chr&gt;, bl_num.mt &lt;chr&gt;, meas_bl.mt &lt;chr&gt;, rejection.mt &lt;chr&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   slit.mt &lt;chr&gt;, lens.mt &lt;chr&gt;, presput.mt &lt;chr&gt;, rast_com.mt &lt;chr&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   frame.mt &lt;chr&gt;, blank_rast.mt &lt;chr&gt;, raster.mt &lt;chr&gt;, tune.mt &lt;chr&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   reg_mode.mt &lt;chr&gt;, chk_frm.mt &lt;chr&gt;, sec_ion_cent.mt &lt;chr&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   frame_sec_ion_cent.mt &lt;chr&gt;, width_hor.mt &lt;chr&gt;, width_ver.mt &lt;chr&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   E0S_cent.mt &lt;chr&gt;, width_V.mt &lt;chr&gt;, E0P_off.mt &lt;chr&gt;, …</span></span></code></pre></div>
<ul>
<li>
<code>num.mt</code>: measurement order in case of multiple chemical species</li>
<li>
<code>mass.mt</code>: mass measured</li>
<li>
<code>det.mt</code>: number of the detector trolley</li>
<li>
<code>tc.mt</code>: measurement time of a measurement blanked in seconds</li>
<li>
<code>rad.mt</code>: radius of the mass spectrometer</li>
<li>
<code>sample.nm</code>: the assigned sample name</li>
<li>
<code>data</code>: date of the analysis</li>
<li>
<code>presput.mt</code>: time allocated for presputtering of the analytical substrate in seconds</li>
<li>
<code>bl_num.mt</code>: block number</li>
<li>
<code>meas_bl.mt</code>: number of measurements per block</li>
<li>
<code>width_hor.mt</code>: horizontal Secondary Ion Beam Centering in Volts</li>
<li>
<code>width_ver.mt</code>: vertical Secondary Ion Beam Centering in Volts</li>
<li>
<code>prim_cur_start.mt</code>: Primary Ion Beam current in pico Ampere at the beginning of the analysis</li>
<li>
<code>prim_cur_after.mt</code>: Primary Ion Beam current in pico Ampere at the end of the analysis</li>
<li>
<code>rast_com.mt</code>: raster dimensions in micrometer</li>
<li>
<code>blank_rast.mt</code>: percentage of blanked raster</li>
<li>
<code>det_type.mt</code>: the type of ion counting devise; Electron Multiplier (EM) or Faraday Cup (FC)</li>
</ul>
<p>In the case of EM usage for ion counting the metadate is complemented with;</p>
<ul>
<li>
<code>mean_PHD.mt</code>: the mean pulse height amplitude in Volts to approximate the peak height distribution (PHD)</li>
<li>
<code>SD_PHD.mt</code>: the standard deviation of pulse height amplitude in Volts to approximate the PHD</li>
<li>
<code>EMHV.mt</code>: EM High Voltage</li>
</ul>
<p>In the case of FC usage for ion counting the metadate is complemented with;</p>
<ul>
<li>
<code>FC_start.mt</code>: FC background count before data acquisition</li>
<li>
<code>FC_after.mt</code>: FC background count after data acquisition</li>
</ul>
</div>
<div class="section level2" number="5">
<h2 id="extracting-metadata-for-machine-performance-assessment">
<span class="header-section-number">5</span> Extracting metadata for machine performance assessment<a class="anchor" aria-label="anchor" href="#extracting-metadata-for-machine-performance-assessment"></a>
</h2>
<p>Alternatively, one can also only extract the metadata of an analysis to, e.g., assess machine performance over a sequence of analyses. For example, one can assess the Peak Height Distribution (PHD) over a series of analyses.</p>
<div class="figure">
<span style="display:block;" id="fig:PHDexample"></span>
<img src="IC-read_files/figure-html/PHDexample-1.png" alt="The PHD with normalised units on the Y-axis approximated with the Polya-Aeppli density probability function with parameter $\lambda$ and $p$ for the location and shape of the curve. These parameters can be calculated using the metadata variables mean_PHD (mean) and SD_PHD (variance), which are compiled by the read_meta function." width="576"><p class="caption">
Figure 5.1: The PHD with normalised units on the Y-axis approximated with the Polya-Aeppli density probability function with parameter <span class="math inline">\(\lambda\)</span> and <span class="math inline">\(p\)</span> for the location and shape of the curve. These parameters can be calculated using the metadata variables mean_PHD (mean) and SD_PHD (variance), which are compiled by the read_meta function.
</p>
</div>
<p>The compounded Polya-Aeppli density probability function can approximate the peak height distribution <span class="citation">(Dietz 1970; Dietz and Hanrahan 1978)</span>. The package <code>pPolyaAeppli</code> <span class="citation">(Burden 2014)</span> together with the discriminator threshold value (usually 50 V) enables calculating the EM Yield (<span class="math inline">\(Y\)</span>) (Fig. <a href="#fig:PHDexample">5.1</a>). More on this topic can be found in the vignette <a href="IC-process.html">IC-process</a>.</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Burden2014" class="csl-entry">
Burden, Conrad J. 2014. <span>“<span class="nocase">An R Implementation of the Polya-Aeppli Distribution</span>.”</span> <a href="http://arxiv.org/abs/1406.2780" class="external-link">http://arxiv.org/abs/1406.2780</a>.
</div>
<div id="ref-Dietz1970" class="csl-entry">
Dietz, L. A. 1970. <span>“<span class="nocase">General method for computing the statistics of charge amplification in particle and photon detectors used for pulse counting</span>.”</span> <em>International Journal of Mass Spectrometry and Ion Physics</em> 5 (1-2): 11–19. <a href="https://doi.org/10.1016/0020-7381(70)87002-4" class="external-link">https://doi.org/10.1016/0020-7381(70)87002-4</a>.
</div>
<div id="ref-Dietz1978" class="csl-entry">
Dietz, L. A., and L. R. Hanrahan. 1978. <span>“<span class="nocase">Electron multiplier-scintillator detector for pulse counting positive or negative ions</span>.”</span> <em>Review of Scientific Instruments</em> 49 (9): 1250–56. <a href="https://doi.org/10.1063/1.1135590" class="external-link">https://doi.org/10.1063/1.1135590</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Martin Schobben.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
